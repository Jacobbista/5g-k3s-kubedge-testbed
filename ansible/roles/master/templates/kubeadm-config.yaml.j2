# InitConfiguration: indica a kubeadm di usare containerd e l'IP del master
apiVersion: kubeadm.k8s.io/v1beta3
kind: InitConfiguration
nodeRegistration:
  criSocket: unix:///run/containerd/containerd.sock
localAPIEndpoint:
  advertiseAddress: 192.168.56.11
  bindPort: 6443
---
# ClusterConfiguration: versione cluster e rete
apiVersion: kubeadm.k8s.io/v1beta3
kind: ClusterConfiguration
# Usa la versione 1.30.0 per compatibilit√† con i pacchetti installati
kubernetesVersion: v1.30.0
controlPlaneEndpoint: "192.168.56.11:6443"
networking:
  serviceSubnet: 10.96.0.0/12
  # ATTENZIONE: questo deve combaciare con il CNI che installerai (es. flannel)
  podSubnet: 10.244.0.0/16
apiServer:
  certSANs:
    - kube-master
    - 192.168.56.11
