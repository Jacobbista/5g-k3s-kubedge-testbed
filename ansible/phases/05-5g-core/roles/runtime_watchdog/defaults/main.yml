---
# Runtime watchdog defaults

# Paths and names
watchdog_script_path: "/usr/local/sbin/k3s-pull-watchdog.sh"
watchdog_state_dir: "/var/lib/k3s-pull-watchdog"
watchdog_service_name: "k3s-pull-watchdog"
watchdog_timer_name: "k3s-pull-watchdog.timer"

# Behavior
watchdog_threshold: 3 # consecutive failures before restart
watchdog_test_image: "docker.io/library/busybox:1.36" # image used by ctr test
watchdog_http_only: false # if true, skip ctr test and only HTTP probes
watchdog_manage_restart: true # if false, never restart k3s/k3s-agent (log only)

# Edge/containerd handling
watchdog_restart_containerd: true # if no k3s/k3s-agent, optionally restart containerd
watchdog_containerd_service: "containerd"

# Timer schedule
watchdog_on_boot: "2min"
watchdog_interval: "5min"
watchdog_randomized_delay: 60
